import{d as _,r as n,o as v,I as V,C as l,aa as M,y as S,B as a,a5 as b,D as m,L as w,Q as y,R as C,U,W as i,X as d,a3 as R}from"#entry";import{a as p}from"./ngrFHoWO.js";import{S as x}from"./Bj_ZQUAw.js";const D=_({__name:"appMaster",setup(B){const s=n([]),o=n([]),r=n([]),c=async()=>{const t={levels:[{level:1,empnos:s.value},{level:2,empnos:o.value}]},e=await p.post("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/insert/master",t);console.log(e.data),e.data.success===!0&&x.fire({icon:"success",title:"บันทึกสำเร็จ",showConfirmButton:!1,timer:1500,timerProgressBar:!0}).then(()=>{location.reload()})},f=async()=>{const t=await p.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/users");r.value=t.data};return v(async()=>{await f()}),(t,e)=>(S(),V(M,{class:"pa-4"},{default:l(()=>[a(b,null,{default:l(()=>[...e[2]||(e[2]=[m("สร้างสายอนุมัติ 2 ลำดับ",-1)])]),_:1}),a(w,null,{default:l(()=>[a(y,{ref:"formRef",onSubmit:C(c,["prevent"])},{default:l(()=>[a(U,null,{default:l(()=>[a(i,{cols:"12",sm:"6"},{default:l(()=>[a(d,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=u=>s.value=u),items:r.value,"item-title":"MUSR_NAME","item-value":"MUSR_ID",label:"ลำดับที่ 1 (เลือกหลายคน)",multiple:"",chips:"",clearable:""},null,8,["modelValue","items"])]),_:1}),a(i,{cols:"12",sm:"6"},{default:l(()=>[a(d,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=u=>o.value=u),items:r.value,"item-title":"MUSR_NAME","item-value":"MUSR_ID",label:"ลำดับที่ 2 (เลือกหลายคน)",multiple:"",chips:"",clearable:""},null,8,["modelValue","items"])]),_:1}),a(i,{cols:"12",class:"mt-4"},{default:l(()=>[a(R,{color:"primary",type:"submit"},{default:l(()=>[...e[3]||(e[3]=[m("บันทึก",-1)])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1}))}});export{D as default};
