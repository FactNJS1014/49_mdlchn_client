import{d as $e,r as n,n as ze,k as me,o as Ye,I as b,y as v,C as a,B as o,V as qe,J as ve,D as oe,K as Je,L as Ke,M as Qe,N as Xe,O as pe,z as l,P as Ze,Q as je,R as el,S as ce,T as fe,U as f,W as d,X as _e,Y as R,Z as w,$ as i,a0 as Z,a1 as p,a2 as Re,a3 as Ce,x as h,a4 as S,a5 as j,a6 as ll,a7 as tl,a8 as ol,a9 as sl,A as r,aa as al,ab as m}from"#entry";import{d as nl}from"./BtPkePTV.js";import{S as C}from"./Bj_ZQUAw.js";const ul={class:"flex align-center"},rl={class:"flex gap-2 align-center"},dl={class:"mt-1"},il={key:0,class:"mt-3 font-semibold"},ml={key:0,class:"mt-3 font-semibold"},vl={class:"text-no-wrap"},pl={class:"flex justify-between"},cl={class:"pa-2"},fl={style:{"min-width":"125px"}},_l={style:{"min-width":"200px"}},Rl={style:{"min-width":"80px"}},Cl={style:{"min-width":"150px"}},gl={style:{"min-width":"150px"}},Pl={class:"w-full mt-3 border border-gray-600"},yl={class:"px-2 py-1 border"},bl={class:"px-2 py-1 border"},Ol={class:"px-2 py-1 border"},Vl={class:"px-2 py-1 bg-red-200 border"},xl={class:"px-2 py-1 bg-red-200 border"},El={class:"px-2 py-1 bg-red-200 border"},Nl={class:"px-2 py-1 bg-red-200 border"},Hl={key:0},wl={class:"px-2 py-1 border"},hl={class:"px-2 py-1 bg-green-200 border"},Sl={class:"px-2 py-1 bg-green-200 border"},kl={class:"px-2 py-1 bg-green-200 border"},Ml={class:"px-2 py-1 bg-green-200 border"},Ul={key:1},Fl={class:"px-2 py-1 border"},Tl={class:"px-2 py-1 border"},Dl={key:2},Al={class:"px-2 py-1 border"},Ll={key:3},Il={class:"px-2 py-1 border"},Wl={class:"px-2 py-1 border"},Bl={class:"px-2 py-1 border"},Gl={class:"px-2 py-1 border"},$l={class:"flex justify-start mt-3 align-center ms-3"},zl={class:"flex justify-between gap-3"},Ql=$e({__name:"index",setup(Yl){const _=n("CP"),$=n(""),g=n("No Have"),k=n(""),M=n(""),O=n(""),U=n(""),V=n(""),F=n(""),T=n(0),x=n(""),D=n(""),E=n(""),N=n(""),P=n(""),A=n(""),L=n(""),z=n(""),I=n(0),Y=n(""),H=n(!1),W=n(""),B=n(""),q=n(""),J=n(""),c=n("one"),se=n(""),{public:ae}=ze();console.log(ae.apiBase);const ee=n(null),ge=async()=>{const t=await m.get(`${ae.apiBase}/session/user`,{withCredentials:!0});ee.value=t.data,console.log("user session:",ee.value),E.value=ee.value.empno},Pe=n([{title:"Actions",align:"left"},{title:"วันที่บันทึก",key:"OPR_HREC_DATEREC",align:"left"},{title:"เลขเอกสาร",key:"OPR_HREC_ISSUENO"},{title:"Process",key:"OPR_HREC_PROCS"},{title:"Work Order ใหม่",key:"OPR_HREC_WON_CHANGE"},{title:"Model ใหม่",key:"OPR_HREC_CHNMDLNM"}]),le=n([]),ye=n([]),ne=n([]),ue=n([]),te=n([]),u=n([]),re=n([]),K=me(()=>_.value==="RF"),Q=me(()=>g.value==="Have");O.value=nl().format("YYYY-MM-DD");const be=async()=>{if(_.value==="CP")try{const t={prs:_.value,ecn:g.value,ecn_num:k.value,ecn_rev:M.value,date_rec:O.value,line:U.value,issue_no:V.value,status:F.value,lots:T.value,prog_name:x.value,prog_rev:D.value,empno:E.value,cur_modelname:N.value,chn_modelname:P.value,won_cur:A.value,won_chn:L.value,lots_chn:I.value,customer:W.value,procs_cp:q.value,procs_cp_chn:J.value};console.log(t),B.value===""?(await m.post("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/oprform",t)).data.status===!0&&C.fire({title:"บันทึกเสร็จสมบูรณ์",icon:"success",timer:1500,showConfirmButton:!1}).then(()=>{c.value="two",y()}):(await m.put("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/oprform/update/"+B.value,t)).data.status===!0&&C.fire({title:"อัปเดตเสร็จสมบูรณ์",icon:"success",timer:1500,showConfirmButton:!1}).then(()=>{c.value="two",y()})}catch{C.fire({title:"Error ในการบันทึกข้อมูล",text:"โปรดติดต่อกลับมาหา IT (System)",icon:"error",timer:1500})}else try{const t={prs:_.value,ecn:g.value,procs_rf:$.value,have_ecn:g.value,ecn_num:k.value,ecn_rev:M.value,date_rec:O.value,line:U.value,issue_no:V.value,status:F.value,lots:T.value,prog_name:x.value,prog_rev:D.value,empno:E.value,cur_modelname:N.value,chn_modelname:P.value,won_cur:A.value,won_chn:L.value,lots_chn:I.value,procs_rf_chn:Y.value,customer:W.value};B.value===""?(await m.post("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/oprform/rf",t)).data.status===!0&&C.fire({title:"บันทึกเสร็จสมบูรณ์",icon:"success",timer:1500,showConfirmButton:!1}).then(()=>{c.value="two",y()}):(await m.put("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/oprform/rf/update/"+B.value,t)).data.status===!0&&C.fire({title:"อัปเดตเสร็จสมบูรณ์",icon:"success",timer:1500,showConfirmButton:!1}).then(()=>{c.value="two",y()})}catch{C.fire({title:"Error ในการบันทึกข้อมูล",text:"โปรดติดต่อกลับมาหา IT (System)",icon:"error",timer:1500})}},Oe=async t=>{H.value=!0,u.value=t},Ve=t=>{c.value="one",B.value=t.OPR_HREC_ID,_.value=t.OPR_HREC_PROCS,E.value=t.OPR_HREC_EMPNO,U.value=t.OPR_HREC_LINE,V.value=t.OPR_HREC_ISSUENO,O.value=t.OPR_HREC_DATEREC,F.value=t.OPR_HREC_STATUSMDL,A.value=t.OPR_HREC_WON_CURRENT,N.value=t.OPR_HREC_CURMDLNM,T.value=parseInt(t.OPR_HREC_LOTS),L.value=t.OPR_HREC_WON_CHANGE,P.value=t.OPR_HREC_CHNMDLNM,I.value=parseInt(t.OPR_HREC_LOTS_CHN),$.value=t.OPR_HREC_PROCS_RF,Y.value=t.OPR_HREC_PROCS_RF_CHN,g.value=t.OPR_HREC_CONTECN,k.value=t.OPR_HREC_HAVECONTECN_NO,M.value=t.OPR_HREC_HAVECONTECN_REV,x.value=t.OPR_HREC_PRGMNM,D.value=t.OPR_HREC_PRGMREV,W.value=t.OPR_HREC_CUS,q.value=t.OPR_HREC_PROCSCP,J.value=t.OPR_HREC_PROCSCP_CHN,H.value=!1},xe=async t=>{try{await m.put("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/submit/"+t),H.value=!1,y()}catch(e){console.log(e)}},Ee=async t=>{try{(await C.fire({icon:"warning",title:"ลบข้อมูล",text:"คุณต้องการลบข้อมูลนี้หรือไม่",showCancelButton:!0,showConfirmButton:!0})).isConfirmed&&(await m.delete("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/data/delete/"+t)).data.status===!0&&C.fire({title:"อัปเดตเสร็จสมบูรณ์",icon:"success",timer:1500,showConfirmButton:!1}).then(()=>{c.value="two",y()})}catch(e){console.log(e)}},Ne=async t=>{const e=t.trim();try{const s=await m.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/checkmodel",{params:{value:e}});ue.value=s.data,s.data.map(G=>{N.value=G.MDLCD})}catch(s){console.log(s)}},He=async t=>{const e=t.trim();try{const s=await m.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/checkmodel",{params:{value:e}});ue.value=s.data,s.data.map(G=>{P.value=G.MDLCD;const Ge=P.value.trim();x.value=`${Ge}_`})}catch(s){console.log(s)}},we=async()=>{try{const t=await m.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/won");le.value=t.data}catch(t){console.log(t)}},he=async()=>{try{const t=await m.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/modelname");ye.value=t.data}catch(t){console.log(t)}},Se=async()=>{try{const t=await m.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/line");ne.value=t.data}catch(t){console.log(t)}},ke=async()=>{try{const t=await m.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/cus");re.value=t.data}catch(t){console.log(t)}},Me=async()=>{try{const t=await m.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/issueno");se.value=t.data,V.value=(se.value.split("-").pop()??"").slice(-3)}catch(t){console.log(t)}},y=async()=>{try{const t=await m.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/record/opr");te.value=t.data}catch(t){console.log(t)}},Ue=[t=>t&&t.length>0?!0:"Please select at least one line."],Fe=[t=>t&&t.length>0?!0:"Please input text fields."],Te=[t=>t&&t.length>0?!0:"Please select status changing."],De=[t=>t&&t.length>0?!0:"Please current model name."],Ae=[t=>t&&t.length>0?!0:"Please change model name."],de=[t=>t&&t.length>0?!0:"Please select work order."],ie=[t=>t&&t>=0?!0:"Please input lot size."],X=[t=>t&&t.length>0?!0:"Please choose process RF1 or RF2."],Le=[t=>t&&t.length>0?!0:"Please select ecn control."],Ie=[t=>t&&t.length>0?!0:"Please input program name."],We=[t=>t&&t.length>0?!0:"Please input revision."],Be=[t=>t&&t.length>0?!0:"Please input revision."];return Ye(async()=>{await we(),await he(),await Se(),await y(),await ge(),await ke(),await Me()}),(t,e)=>(v(),b(Z,null,{default:a(()=>[o(qe,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),class:"text-grey-darken-1 bg-blue-lighten-5",color:"light-blue-darken-1"},{default:a(()=>[o(ve,{value:"one",class:"font-weight-medium"},{default:a(()=>[...e[30]||(e[30]=[oe("OPERATOR FORM",-1)])]),_:1}),o(Je,{inline:"",location:"top right",color:"red",content:te.value.length},{default:a(()=>[o(ve,{value:"two",class:"font-weight-medium"},{default:a(()=>[...e[31]||(e[31]=[oe(" ตรวจสอบข้อมูลบันทึก ",-1)])]),_:1})]),_:1},8,["content"])]),_:1},8,["modelValue"]),o(Ke,null,{default:a(()=>[o(Qe,{items:[1],height:"550","item-height":"auto"},{default:a(()=>[o(Xe,{modelValue:c.value,"onUpdate:modelValue":e[25]||(e[25]=s=>c.value=s)},{default:a(()=>[o(pe,{value:"one"},{default:a(()=>[e[55]||(e[55]=l("div",{class:"px-2 py-3 rounded-sm bg-sky-500"},[l("div",{class:"flex justify-between"},[l("div",null,[l("span",{class:"font-semibold"},"FORM FOR OPERATOR")])])],-1)),l("div",ul,[e[32]||(e[32]=l("h1",{class:"font-semibold text-lg bg-light-blue-accent-1 pa-1 rounded-l-md"}," เอกสาร Process: ",-1)),o(Ze,{modelValue:_.value,"onUpdate:modelValue":e[1]||(e[1]=s=>_.value=s),label:`Process: ${_.value}`,"false-value":"CP","true-value":"RF","hide-details":"",color:"blue",class:"ms-3"},null,8,["modelValue","label"])]),o(je,{onSubmit:el(be,["prevent"])},{default:a(()=>[l("div",rl,[e[33]||(e[33]=l("h1",null,"Employee ID :",-1)),l("span",null,[ce(l("input",{type:"text",class:"w-full px-3 py-2 border border-gray-800 rounded-lg focus:outline-none","onUpdate:modelValue":e[2]||(e[2]=s=>E.value=s),required:""},null,512),[[fe,E.value]])])]),o(f,{"no-gutters":"",class:"gap-3"},{default:a(()=>[o(d,{cols:"4"},{default:a(()=>[e[34]||(e[34]=l("div",{class:"mt-3 font-semibold"},"Line No. :",-1)),o(_e,{modelValue:U.value,"onUpdate:modelValue":e[3]||(e[3]=s=>U.value=s),variant:"outlined",rounded:"md",items:ne.value,"item-title":"LINE_NAME",rules:Ue},null,8,["modelValue","items"])]),_:1}),o(d,{cols:"4"},{default:a(()=>[e[35]||(e[35]=l("div",{class:"mt-3 font-semibold"},"Issue No. :",-1)),o(R,{variant:"outlined",rounded:"md",modelValue:V.value,"onUpdate:modelValue":e[4]||(e[4]=s=>V.value=s),rules:Fe},null,8,["modelValue"])]),_:1}),o(d,{cols:"3",md:"3"},{default:a(()=>[e[36]||(e[36]=l("div",{class:"mt-3 font-semibold"},"Issue Date :",-1)),ce(l("input",{type:"date",class:"w-full px-3 py-4 text-base placeholder-gray-400 transition-colors bg-white border border-gray-300 rounded focus:outline-none","onUpdate:modelValue":e[5]||(e[5]=s=>O.value=s),required:"",readonly:""},null,512),[[fe,O.value]])]),_:1})]),_:1}),o(f,{"no-gutters":""},{default:a(()=>[e[37]||(e[37]=l("div",{class:"mt-3 font-semibold"},"Status :",-1)),l("span",dl,[o(w,{inline:"",class:"gap-4",modelValue:F.value,"onUpdate:modelValue":e[6]||(e[6]=s=>F.value=s),rules:Te},{default:a(()=>[o(i,{label:"Urgent",value:"Urgent",color:"info"}),o(i,{label:"Normal",value:"Normal",color:"info"}),o(i,{label:"New line",value:"New line",color:"info"}),o(i,{label:"New model",value:"New model",color:"info"}),o(i,{label:"Over Plan",value:"Over Plan",color:"info"})]),_:1},8,["modelValue"])])]),_:1}),o(Z,{variant:"flat",class:"bg-blue-grey-lighten-5 w-[100%] pa-2"},{default:a(()=>[e[43]||(e[43]=l("div",{class:"mb-3 text-center font-bold text-2xl underline"}," Current Model ",-1)),o(f,{"no-gutters":"",class:"gap-3"},{default:a(()=>[o(d,{cols:"4",md:"5"},{default:a(()=>[e[38]||(e[38]=l("div",{class:"mt-3 font-semibold"},"WO# (เดิม):",-1)),o(Re,{variant:"outlined",rounded:"md",items:le.value,"item-title":"WON","item-value":"WON",modelValue:A.value,"onUpdate:modelValue":[e[7]||(e[7]=s=>A.value=s),Ne],rules:de},null,8,["items","modelValue"])]),_:1}),o(d,{cols:"6",md:"5"},{default:a(()=>[e[39]||(e[39]=l("div",{class:"mt-3 font-semibold"},"Current Model Code :",-1)),o(R,{variant:"outlined",rounded:"md",modelValue:N.value,"onUpdate:modelValue":e[8]||(e[8]=s=>N.value=s),rules:De},null,8,["modelValue"])]),_:1}),o(d,{cols:"6",md:"5"},{default:a(()=>[e[40]||(e[40]=l("div",{class:"mt-3 font-semibold"},"Lot Size เดิม:",-1)),o(Ce,{variant:"outlined",rounded:"md",modelValue:T.value,"onUpdate:modelValue":e[9]||(e[9]=s=>T.value=s),min:0,rules:ie},null,8,["modelValue"])]),_:1}),K.value?p("",!0):(v(),b(d,{key:0,cols:"6",md:"3"},{default:a(()=>[e[41]||(e[41]=l("div",{class:"mt-3 font-semibold"},"Process: (CP) เดิม",-1)),o(w,{inline:"",class:"gap-4",modelValue:q.value,"onUpdate:modelValue":e[10]||(e[10]=s=>q.value=s),rules:X},{default:a(()=>[o(i,{label:"CP",value:"CP",color:"info"}),o(i,{label:"RF",value:"RF",color:"info"})]),_:1},8,["modelValue"])]),_:1})),K.value?(v(),b(d,{key:1,cols:"6",md:"3"},{default:a(()=>[e[42]||(e[42]=l("div",{class:"mt-3 font-semibold"},"Process: (RF) เดิม",-1)),o(w,{inline:"",class:"gap-4",modelValue:$.value,"onUpdate:modelValue":e[11]||(e[11]=s=>$.value=s),rules:X},{default:a(()=>[o(i,{label:"CP",value:"CP",color:"info"}),o(i,{label:"RF1",value:"RF1",color:"info"}),o(i,{label:"RF2",value:"RF2",color:"info"}),o(i,{label:"RF",value:"RF",color:"info"})]),_:1},8,["modelValue"])]),_:1})):p("",!0)]),_:1})]),_:1}),o(Z,{variant:"flat",class:"bg-green-accent-1 w-[100%] pa-2 mt-3"},{default:a(()=>[e[49]||(e[49]=l("div",{class:"mb-3 text-center font-bold text-2xl underline"}," Next Model ",-1)),o(f,{"no-gutters":"",class:"gap-3"},{default:a(()=>[o(d,{cols:"4",md:"5"},{default:a(()=>[e[44]||(e[44]=l("div",{class:"mt-3 font-semibold"},"WO# (เปลี่ยน):",-1)),o(Re,{variant:"outlined",rounded:"md",items:le.value,"item-title":"WON","item-value":"WON",modelValue:L.value,"onUpdate:modelValue":[e[12]||(e[12]=s=>L.value=s),He],rules:de},null,8,["items","modelValue"])]),_:1}),o(d,{cols:"6",md:"5"},{default:a(()=>[e[45]||(e[45]=l("div",{class:"mt-3 font-semibold"},"Change Model Code :",-1)),o(R,{variant:"outlined",rounded:"md",modelValue:P.value,"onUpdate:modelValue":e[13]||(e[13]=s=>P.value=s),rules:Ae},null,8,["modelValue"])]),_:1}),o(d,{cols:"6",md:"5"},{default:a(()=>[e[46]||(e[46]=l("div",{class:"mt-3 font-semibold"},"Lot Size เปลี่ยน:",-1)),o(Ce,{variant:"outlined",rounded:"md",modelValue:I.value,"onUpdate:modelValue":e[14]||(e[14]=s=>I.value=s),min:0,rules:ie},null,8,["modelValue"])]),_:1}),K.value?p("",!0):(v(),b(d,{key:0,cols:"6",md:"3"},{default:a(()=>[e[47]||(e[47]=l("div",{class:"mt-3 font-semibold"},"Process: (CP) เปลี่ยน",-1)),o(w,{inline:"",class:"gap-4",modelValue:J.value,"onUpdate:modelValue":e[15]||(e[15]=s=>J.value=s),rules:X},{default:a(()=>[o(i,{label:"CP",value:"CP",color:"info"}),o(i,{label:"RF",value:"RF",color:"info"})]),_:1},8,["modelValue"])]),_:1})),K.value?(v(),b(d,{key:1,cols:"6",md:"3"},{default:a(()=>[e[48]||(e[48]=l("div",{class:"mt-3 font-semibold"},"Process: (RF) เปลี่ยน",-1)),o(w,{inline:"",class:"gap-4",modelValue:Y.value,"onUpdate:modelValue":e[16]||(e[16]=s=>Y.value=s),rules:X},{default:a(()=>[o(i,{label:"CP",value:"CP",color:"info"}),o(i,{label:"RF1",value:"RF1",color:"info"}),o(i,{label:"RF2",value:"RF2",color:"info"}),o(i,{label:"RF",value:"RF",color:"info"})]),_:1},8,["modelValue"])]),_:1})):p("",!0)]),_:1})]),_:1}),o(f,{"no-gutters":"",class:"gap-6"}),o(f,{"no-gutters":"",class:"gap-3"},{default:a(()=>[o(d,{cols:"4",md:"5"},{default:a(()=>[e[50]||(e[50]=l("div",{class:"mt-3 font-semibold"},"ECN Control :",-1)),o(w,{inline:"",class:"gap-4",modelValue:g.value,"onUpdate:modelValue":e[17]||(e[17]=s=>g.value=s),rules:Le},{default:a(()=>[o(i,{label:"No Have",value:"No Have",color:"info"}),o(i,{label:"Have",value:"Have",color:"info"})]),_:1},8,["modelValue"])]),_:1}),o(d,{cols:"4",md:"3"},{default:a(()=>[Q.value?(v(),h("div",il,"ECN Number :")):p("",!0),Q.value?(v(),b(R,{key:1,variant:"outlined",density:"compact",modelValue:k.value,"onUpdate:modelValue":e[18]||(e[18]=s=>k.value=s)},null,8,["modelValue"])):p("",!0)]),_:1}),o(d,{cols:"4",md:"3"},{default:a(()=>[Q.value?(v(),h("div",ml,"REV :")):p("",!0),Q.value?(v(),b(R,{key:1,variant:"outlined",density:"compact",modelValue:M.value,"onUpdate:modelValue":e[19]||(e[19]=s=>M.value=s)},null,8,["modelValue"])):p("",!0)]),_:1})]),_:1}),o(f,{"no-gutters":"",class:"gap-3"},{default:a(()=>[o(d,{cols:"6",md:"5"},{default:a(()=>[e[51]||(e[51]=l("div",{class:"mt-3 font-semibold"},"Program Name :",-1)),o(R,{variant:"outlined",density:"compact",modelValue:x.value,"onUpdate:modelValue":e[20]||(e[20]=s=>x.value=s),rules:Ie},null,8,["modelValue"])]),_:1}),o(d,{cols:"6",md:"5"},{default:a(()=>[e[52]||(e[52]=l("div",{class:"mt-3 font-semibold"},"PCB No.:",-1)),o(R,{variant:"outlined",density:"compact",modelValue:D.value,"onUpdate:modelValue":e[21]||(e[21]=s=>D.value=s),rules:We},null,8,["modelValue"])]),_:1})]),_:1}),o(f,{"no-gutters":"",class:"gap-3"},{default:a(()=>[o(d,{cols:"6",md:"5"},{default:a(()=>[e[53]||(e[53]=l("div",{class:"mt-3 font-semibold"},"Customer Name :",-1)),o(_e,{modelValue:W.value,"onUpdate:modelValue":e[22]||(e[22]=s=>W.value=s),variant:"outlined",rounded:"md",items:re.value,"item-title":"BGCD",rules:Be},null,8,["modelValue","items"])]),_:1})]),_:1}),o(f,{"no-gutters":"",class:"justify-center mt-10"},{default:a(()=>[o(S,{color:"green",width:"200",rounded:"md",type:"submit"},{prepend:a(()=>[o(j,{icon:"mdi mdi-content-save-check"})]),default:a(()=>[e[54]||(e[54]=l("h1",{class:"text-md"},"Save",-1))]),_:1})]),_:1})]),_:1})]),_:1}),o(pe,{value:"two"},{default:a(()=>[o(ll,{class:"d-flex align-center pe-2"},{default:a(()=>[e[56]||(e[56]=l("i",{class:"fa fa-box fa-lg"},null,-1)),e[57]||(e[57]=oe("   ค้นหาข้อมูล Model Change ",-1)),o(tl),o(R,{modelValue:z.value,"onUpdate:modelValue":e[23]||(e[23]=s=>z.value=s),density:"compact",label:"Search",variant:"solo-filled",flat:"","hide-details":"","single-line":""},{"prepend-inner":a(()=>[o(j,{icon:"mdi mdi-magnify"})]),_:1},8,["modelValue"])]),_:1}),o(ol),o(sl,{headers:Pe.value,items:te.value,search:z.value,"onUpdate:search":e[24]||(e[24]=s=>z.value=s),"filter-keys":["OPR_HREC_WON_CHANGE"],density:"compact",height:"550","fixed-header":""},{item:a(({item:s})=>[l("tr",vl,[l("td",null,[l("div",pl,[l("div",cl,[o(S,{color:"blue",rounded:"xl",onClick:G=>Oe(s),icon:"mdi mdi-text-box",density:"comfortable"},null,8,["onClick"]),o(S,{color:"red",rounded:"xl",onClick:G=>Ee(s.OPR_HREC_ID),class:"ms-3",icon:"mdi mdi-delete",density:"comfortable"},null,8,["onClick"])])])]),l("td",fl,r(s.OPR_HREC_DATEREC),1),l("td",_l,r(s.OPR_HREC_ISSUENO),1),l("td",Rl,r(s.OPR_HREC_PROCS),1),l("td",Cl,r(s.OPR_HREC_WON_CHANGE),1),l("td",gl,r(s.OPR_HREC_CHNMDLNM),1)])]),_:1},8,["headers","items","search"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(al,{modelValue:H.value,"onUpdate:modelValue":e[29]||(e[29]=s=>H.value=s),width:"auto"},{default:a(()=>[o(Z,{"min-width":"800","prepend-icon":"fa fa-book",items:u.value},{title:a(()=>[l("h1",null,r(u.value.OPR_HREC_ID),1)]),actions:a(()=>[o(S,{class:"ms-auto",text:"Close",onClick:e[28]||(e[28]=s=>H.value=!1)})]),default:a(()=>[e[79]||(e[79]=l("div",{class:"flex"},[l("div",{class:"flex gap-3 align-center"},[l("div",{class:"w-5 h-5 bg-red-200 ms-4 rounded-2xl"}),l("span",{class:""},"ของเดิม")]),l("div",{class:"flex gap-3 align-center"},[l("div",{class:"w-5 h-5 bg-green-200 ms-4 rounded-2xl"}),l("span",{class:""},"ของใหม่")])],-1)),l("table",Pl,[l("tbody",null,[l("tr",null,[e[58]||(e[58]=l("th",{class:"px-2 py-1 text-left border"},"เลขเอกสาร:",-1)),l("td",yl,r(u.value.OPR_HREC_ISSUENO),1)]),l("tr",null,[e[59]||(e[59]=l("th",{class:"px-2 py-1 text-left border"},"เอกสาร Process:",-1)),l("td",bl,r(u.value.OPR_HREC_PROCS),1)]),l("tr",null,[e[60]||(e[60]=l("th",{class:"px-2 py-1 text-left border"},"สถานะการเปลี่ยน Model:",-1)),l("td",Ol,r(u.value.OPR_HREC_STATUSMDL),1)]),l("tr",null,[e[61]||(e[61]=l("th",{class:"px-2 py-1 text-left border"},"WO# เดิม:",-1)),l("td",Vl,r(u.value.OPR_HREC_WON_CURRENT),1)]),l("tr",null,[e[62]||(e[62]=l("th",{class:"px-2 py-1 text-left border"},"Model เดิม:",-1)),l("td",xl,r(u.value.OPR_HREC_CURMDLNM),1)]),l("tr",null,[e[63]||(e[63]=l("th",{class:"px-2 py-1 text-left border"},"Lot Size เดิม:",-1)),l("td",El,r(u.value.OPR_HREC_LOTS),1)]),l("tr",null,[e[64]||(e[64]=l("th",{class:"px-2 py-1 text-left border"},"Process CP เดิม:",-1)),l("td",Nl,r(u.value.OPR_HREC_PROCSCP),1)]),u.value.OPR_HREC_PROCS==="RF"?(v(),h("tr",Hl,[e[65]||(e[65]=l("th",{class:"px-2 py-1 text-left border"},"Process RF ของเดิม:",-1)),l("td",wl,r(u.value.OPR_HREC_PROCS_RF),1)])):p("",!0),l("tr",null,[e[66]||(e[66]=l("th",{class:"px-2 py-1 text-left border"},"WO# ใหม่:",-1)),l("td",hl,r(u.value.OPR_HREC_WON_CHANGE),1)]),l("tr",null,[e[67]||(e[67]=l("th",{class:"px-2 py-1 text-left border"},"Model ใหม่:",-1)),l("td",Sl,r(u.value.OPR_HREC_CHNMDLNM),1)]),l("tr",null,[e[68]||(e[68]=l("th",{class:"px-2 py-1 text-left border"},"Lot Size เปลี่ยน:",-1)),l("td",kl,r(u.value.OPR_HREC_LOTS_CHN),1)]),l("tr",null,[e[69]||(e[69]=l("th",{class:"px-2 py-1 text-left border"},"Process CP เปลี่ยน:",-1)),l("td",Ml,r(u.value.OPR_HREC_PROCSCP_CHN),1)]),u.value.OPR_HREC_PROCS==="RF"?(v(),h("tr",Ul,[e[70]||(e[70]=l("th",{class:"px-2 py-1 text-left border"},"Process RF ของใหม่:",-1)),l("td",Fl,r(u.value.OPR_HREC_PROCS_RF_CHN),1)])):p("",!0),l("tr",null,[e[71]||(e[71]=l("th",{class:"px-2 py-1 text-left border"},"ECN Control (Have or No Have):",-1)),l("td",Tl,r(u.value.OPR_HREC_CONTECN),1)]),u.value.OPR_HREC_CONTECN==="Have"?(v(),h("tr",Dl,[e[72]||(e[72]=l("th",{class:"px-2 py-1 text-left border"},"ECN Number:",-1)),l("td",Al,r(u.value.OPR_HREC_HAVECONTECN_NO),1)])):p("",!0),u.value.OPR_HREC_CONTECN==="Have"?(v(),h("tr",Ll,[e[73]||(e[73]=l("th",{class:"px-2 py-1 text-left border"},"ECN Revision:",-1)),l("td",Il,r(u.value.OPR_HREC_HAVECONTECN_REV),1)])):p("",!0),l("tr",null,[e[74]||(e[74]=l("th",{class:"px-2 py-1 text-left border"},"Program Name:",-1)),l("td",Wl,r(u.value.OPR_HREC_PRGMNM),1)]),l("tr",null,[e[75]||(e[75]=l("th",{class:"px-2 py-1 text-left border"},"Revision:",-1)),l("td",Bl,r(u.value.OPR_HREC_PRGMREV),1)]),l("tr",null,[e[76]||(e[76]=l("th",{class:"px-2 py-1 text-left border"},"Customer:",-1)),l("td",Gl,r(u.value.OPR_HREC_CUS),1)])])]),l("div",$l,[l("div",zl,[o(S,{rounded:"",onClick:e[26]||(e[26]=s=>Ve(u.value)),color:"warning"},{prepend:a(()=>[o(j,{icon:"mdi mdi-pencil-box"})]),default:a(()=>[e[77]||(e[77]=l("h1",null,"Edit (แก้ไข)",-1))]),_:1}),o(S,{rounded:"",onClick:e[27]||(e[27]=s=>xe(u.value.OPR_HREC_ID)),color:"success"},{prepend:a(()=>[o(j,{icon:"mdi mdi-check-underline-circle"})]),default:a(()=>[e[78]||(e[78]=l("h1",null,"Submit (ยืนยัน)",-1))]),_:1})])])]),_:1},8,["items"])]),_:1},8,["modelValue"])]),_:1}))}});export{Ql as default};
