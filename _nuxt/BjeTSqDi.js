import{an as C,d as g,ao as V,r as c,ac as B,n as f,o as h,I as m,y as d,ap as y,C as s,B as a,x as R,ai as $,aj as A,z as r,A as v,a4 as b,ah as L,aq as M,ab as x,ar as S,as as I,at as j,ag as N,au as P,av as U}from"#entry";const z=C("/blockchain.png"),D={class:"font-semibold text-md"},F=g({__name:"sidebar",setup(w){const l=V(),e=c(l.path);B(()=>l.path,i=>{e.value=i});const u=i=>{e.value=i},p=c([{id:1,icon:"mdi mdi-database-cog",to:"/appMaster",label:"สายอนุมัติ"},{id:2,icon:"mdi mdi-numeric-1-box",to:"/",label:"แบบฟอร์ม Operator"},{id:3,icon:"mdi mdi-numeric-2-box",to:"/tech_record",label:"แบบฟอร์ม Technichian"},{id:4,icon:"mdi mdi-file-document-check",to:"/dataApp",label:"เอกสารอนุมัติ CP Process"},{id:5,icon:"mdi mdi-file-document-check",to:"/dataRf",label:"เอกสารอนุมัติ RF Process"}]),{public:o}=f();console.log(o.apiBase);const n=c(null),_=c(0),k=async()=>{const i=await x.get(`${o.apiBase}/session/user`,{withCredentials:!0});n.value=i.data,console.log("user session:",n.value),_.value=n.value.permission,console.log("user permission:",_.value)};return h(()=>{k()}),(i,G)=>(d(),m(y,{app:"",permanent:"",color:"blue-lighten-5"},{default:s(()=>[a(M,{density:"comfortable",nav:""},{default:s(()=>[(d(!0),R(L,null,$(p.value,t=>(d(),m(A,{key:t.id,to:t.to,router:"",exact:"",active:e.value===t.to,onClick:H=>u(t.to),color:e.value===t.to?"light-blue-darken-4":void 0,variant:"tonal"},{prepend:s(()=>[a(b,{icon:t.icon},null,8,["icon"])]),title:s(()=>[r("p",D,v(t.label),1)]),_:2},1032,["to","active","onClick","color"]))),128))]),_:1})]),_:1}))}}),O=Object.assign(F,{__name:"Sidebar"}),q={class:"flex items-center gap-3"},E={class:"flex items-center gap-2 ml-auto"},T={class:"text-white font-medium"},K=g({__name:"custom",setup(w){const{public:l}=f();console.log(l.apiBase);const e=c(null),u=c(""),p=async()=>{const o=await x.get(`${l.apiBase}/session/user`,{withCredentials:!0});e.value=o.data,console.log("user session:",e.value),u.value=e.value?.username||""};return h(()=>{p()}),(o,n)=>(d(),m(U,null,{default:s(()=>[a(S,{app:"",color:"blue",class:"px-4 flex justify-between items-center"},{default:s(()=>[r("div",q,[a(I,{src:z,alt:"Logo",width:"32",height:"32",contain:""}),n[0]||(n[0]=r("span",{class:"font-bold text-white text-xl tracking-wide"}," Model Change Record System ",-1))]),r("div",E,[a(b,{icon:"mdi-account-circle",size:"26",color:"white"}),r("span",T,v(u.value),1)])]),_:1}),a(O),a(j,{class:"p-4"},{default:s(()=>[a(N,null,{default:s(()=>[P(o.$slots,"default")]),_:3})]),_:3})]),_:3}))}});export{K as default};
