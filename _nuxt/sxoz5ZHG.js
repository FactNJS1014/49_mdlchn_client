import{am as k,d as _,an as C,r,ac as V,n as f,o as g,I as m,y as d,ao as B,C as t,B as a,x as y,ai as R,aj as $,z as l,A as h,a4 as b,ah as A,ap as L,ab as v,aq as M,ar as S,as as I,ag as j,at as N,au as P}from"#entry";const U=k("/blockchain.png"),z={class:"font-semibold text-md"},D=_({__name:"sidebar",setup(x){const i=C(),e=r(i.path);V(()=>i.path,n=>{e.value=n});const u=n=>{e.value=n},p=r([{id:1,icon:"mdi mdi-numeric-1-box",to:"/",label:"แบบฟอร์ม Operator"},{id:2,icon:"mdi mdi-numeric-2-box",to:"/tech_record",label:"แบบฟอร์ม Technichian"},{id:3,icon:"mdi mdi-file-document-check",to:"/dataApp",label:"เอกสารอนุมัติ CP Process"},{id:4,icon:"mdi mdi-file-document-check",to:"/dataRf",label:"เอกสารอนุมัติ RF Process"},{id:5,icon:"mdi mdi-database-cog",to:"/appMaster",label:"สายอนุมัติ"}]),{public:o}=f();console.log(o.apiBase);const c=r(null),w=async()=>{const n=await v.get(`${o.apiBase}/session/user`,{withCredentials:!0});c.value=n.data,console.log("user session:",c.value)};return g(()=>{w()}),(n,T)=>(d(),m(B,{app:"",permanent:"",color:"blue-lighten-5"},{default:t(()=>[a(L,{density:"comfortable",nav:""},{default:t(()=>[(d(!0),y(A,null,R(p.value,s=>(d(),m($,{key:s.id,to:s.to,router:"",exact:"",active:e.value===s.to,onClick:G=>u(s.to),color:e.value===s.to?"light-blue-darken-4":void 0,variant:"tonal"},{prepend:t(()=>[a(b,{icon:s.icon},null,8,["icon"])]),title:t(()=>[l("p",z,h(s.label),1)]),_:2},1032,["to","active","onClick","color"]))),128))]),_:1})]),_:1}))}}),F=Object.assign(D,{__name:"Sidebar"}),O={class:"flex items-center gap-3"},q={class:"flex items-center gap-2 ml-auto"},E={class:"text-white font-medium"},J=_({__name:"custom",setup(x){const{public:i}=f();console.log(i.apiBase);const e=r(null),u=r(""),p=async()=>{const o=await v.get(`${i.apiBase}/session/user`,{withCredentials:!0});e.value=o.data,console.log("user session:",e.value),u.value=e.value?.username||""};return g(()=>{p()}),(o,c)=>(d(),m(P,null,{default:t(()=>[a(M,{app:"",color:"blue",class:"px-4 flex justify-between items-center"},{default:t(()=>[l("div",O,[a(S,{src:U,alt:"Logo",width:"32",height:"32",contain:""}),c[0]||(c[0]=l("span",{class:"font-bold text-white text-xl tracking-wide"}," Model Change Record System ",-1))]),l("div",q,[a(b,{icon:"mdi-account-circle",size:"26",color:"white"}),l("span",E,h(u.value),1)])]),_:1}),a(F),a(I,{class:"p-4"},{default:t(()=>[a(j,null,{default:t(()=>[N(o.$slots,"default")]),_:3})]),_:3})]),_:3}))}});export{J as default};
