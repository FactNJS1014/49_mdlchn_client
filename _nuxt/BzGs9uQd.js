import{d as k,r as n,o as D,I as R,C as l,a0 as B,ab as c,y as N,B as t,V as E,J as b,D as V,N as O,O as y,L as F,M as I,z as o,Q as j,R as P,U as A,W as u,X as _,Y as g,a4 as W,a5 as x,a6 as Y,a7 as L,a8 as z,a9 as K,A as i,au as J}from"#entry";import{S as Q}from"./Bj_ZQUAw.js";const X={class:"pa-3"},q={class:"text-no-wrap"},H={style:{"min-width":"125px"}},Z={style:{"min-width":"200px"}},$={style:{"min-width":"80px"}},ee={style:{"min-width":"150px"}},te={style:{"min-width":"150px"}},oe=k({__name:"settingsMaster",setup(ae){const d=n(1),r=n(""),C=[s=>s&&s.length>0?!0:"Please select at least one Category."],m=n("1"),p=n(""),T=[s=>s&&s.length>0?!0:"Please select at least one Category."],f=n([]),S=n([]),v=n([]),G=async()=>{try{const s=await c.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/cus");S.value=s.data}catch(s){console.log(s)}},M=async()=>{const s=f.value.map(w=>w.trim()).join(","),e={category:r.value,maker:m.value,submatnum:p.value,cus:s};(await c.post("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/insert/settings",e)).data.std===!0&&Q.fire({icon:"success",title:"Insert Master Successfully",showConfirmButton:!1,timer:1500}),console.log(e)},h=async()=>{const s=await c.get("http://172.22.64.11/49_modelchange/49_mdlchn_api/api/get/settings");v.value=s.data.get_db,console.log(s.data)},U=n([{title:"ชื่อประเภท",key:"SAG_CATEGROY"},{title:"Maker",key:"SAG_MAKER"},{title:"Submat Number",key:"SAG_SUBMATNUM"},{title:"Customers",key:"SAG_CUS"},{title:"Status",key:"SAG_STD"}]);return D(()=>{G(),h()}),(s,e)=>(N(),R(B,null,{default:l(()=>[t(E,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),"align-tabs":"center",color:"deep-purple-accent-4"},{default:l(()=>[t(b,{value:"1"},{default:l(()=>[...e[8]||(e[8]=[V("FORM",-1)])]),_:1}),t(b,{value:"2"},{default:l(()=>[...e[9]||(e[9]=[V("DATA SUBMAT",-1)])]),_:1})]),_:1},8,["modelValue"]),t(O,{modelValue:d.value,"onUpdate:modelValue":e[7]||(e[7]=a=>d.value=a)},{default:l(()=>[t(y,{value:"1"},{default:l(()=>[t(F,null,{default:l(()=>[t(I,{items:[1],height:"620","item-height":"auto"},{default:l(()=>[e[15]||(e[15]=o("div",{class:"px-2 py-3 rounded-sm bg-sky-500"},[o("div",{class:"flex justify-between"},[o("div",null,[o("span",{class:"font-semibold"},"FORM FOR SETTINGS DATA SOLDER PASTE AND GLUE")])])],-1)),t(j,{onSubmit:P(M,["prevent"]),class:"mt-3"},{default:l(()=>[t(A,{"no-gutters":"",class:"gap-3 flex justify-center ma-10"},{default:l(()=>[t(u,{cols:"6"},{default:l(()=>[e[10]||(e[10]=o("div",{class:"mr-1 text-lg font-semibold"},"Category:",-1)),t(_,{label:"Select",items:["Solder Paste","Solder Wire","Glue"],variant:"outlined",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),rules:C},null,8,["modelValue"])]),_:1}),t(u,{cols:"6"},{default:l(()=>[e[11]||(e[11]=o("div",{class:"mr-1 text-lg font-semibold"},"Maker:",-1)),t(g,{label:"Maker",variant:"outlined",modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=a=>m.value=a)},null,8,["modelValue"])]),_:1}),t(u,{cols:"6"},{default:l(()=>[e[12]||(e[12]=o("div",{class:"mr-1 text-lg font-semibold"},"Sub Mat Number:",-1)),t(g,{label:"Maker",variant:"outlined",modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=a=>p.value=a),rules:T},null,8,["modelValue"])]),_:1}),t(u,{cols:"6"},{default:l(()=>[e[13]||(e[13]=o("div",{class:"mr-1 text-lg font-semibold"},"Customers:",-1)),t(_,{modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=a=>f.value=a),items:S.value,"item-title":"BGCD","item-value":"BGCD",variant:"outlined",label:"เลือกลูกค้า",multiple:"",chips:"",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1}),t(A,{"no-gutters":"",class:"justify-center mt-10"},{default:l(()=>[t(W,{color:"green",width:"200",rounded:"md",type:"submit"},{prepend:l(()=>[t(x,{icon:"mdi mdi-content-save-check"})]),default:l(()=>[e[14]||(e[14]=o("h1",{class:"text-md"},"Save",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(y,{value:"2"},{default:l(()=>[o("div",X,[t(Y,{class:"d-flex align-center pe-2"},{default:l(()=>[e[16]||(e[16]=o("i",{class:"fa fa-box fa-lg"},null,-1)),e[17]||(e[17]=V("   ค้นหาข้อมูล Model Change ",-1)),t(L),t(g,{modelValue:s.search,"onUpdate:modelValue":e[5]||(e[5]=a=>s.search=a),density:"compact",label:"Search",variant:"solo-filled",flat:"","hide-details":"","single-line":""},{"prepend-inner":l(()=>[t(x,{icon:"mdi mdi-magnify"})]),_:1},8,["modelValue"])]),_:1}),t(z),t(K,{headers:U.value,items:v.value,search:s.search,"onUpdate:search":e[6]||(e[6]=a=>s.search=a),"filter-keys":["SAG_CATGROY"],density:"compact",height:"550","fixed-header":""},{item:l(({item:a})=>[o("tr",q,[o("td",H,i(a.SAG_CATEGROY),1),o("td",Z,i(a.SAG_MAKER),1),o("td",$,i(a.SAG_SUBMATNUM),1),o("td",ee,i(a.SAG_CUS),1),o("td",te,[t(J,{color:a.SAG_STD==1?"green":"red",text:a.SAG_STD==1?"Use":"No Use",class:"text-uppercase",size:"small",label:""},null,8,["color","text"])])])]),_:1},8,["headers","items","search"])])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{oe as default};
